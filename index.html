import React, { useState } from "react";

export default function App() {
  const [step, setStep] = useState(1);
  const [params, setParams] = useState({
    diameter: 150,
    height: 5,
    material: "steel",
    insulation: "none"
  });

  // Пример функции для отрисовки схемы
  function ChimneySVG({diameter, height, material, insulation}) {
    return (
      <svg width="120" height="300">
        <rect x="40" y="30" width={diameter/2} height={height*20} fill={material === "steel" ? "#bbb" : "#e7c19a"} stroke="#333" />
        {insulation !== "none" && (
          <rect x="35" y="25" width={diameter/2+10} height={height*20+10} fill={insulation === "basic" ? "#f0e68c99" : "#f0808099"} stroke="#888" />
        )}
      </svg>
    );
  }

  return (
    <div style={{maxWidth: 420, margin: "2em auto", background: "#fff", borderRadius: 12, boxShadow: "0 2px 10px #0001", padding: "2em"}}>
      <h2>Конструктор дымохода</h2>
      <ChimneySVG {...params} />
      {step === 1 && (
        <>
          <label>Диаметр:
            <input type="number" value={params.diameter} min={100} max={300}
              onChange={e => setParams(p => ({...p, diameter: e.target.value}))} />
          </label>
          <button onClick={() => setStep(2)}>Далее</button>
        </>
      )}
      {step === 2 && (
        <>
          <label>Высота, м:
            <input type="number" value={params.height} min={2} max={12}
              onChange={e => setParams(p => ({...p, height: e.target.value}))} />
          </label>
          <button onClick={() => setStep(3)}>Далее</button>
        </>
      )}
      {step === 3 && (
        <>
          <label>Материал:
            <select value={params.material} onChange={e => setParams(p => ({...p, material: e.target.value}))}>
              <option value="steel">Нержавеющая сталь</option>
              <option value="ceramic">Керамика</option>
            </select>
          </label>
          <button onClick={() => setStep(4)}>Далее</button>
        </>
      )}
      {step === 4 && (
        <>
          <label>Утепление:
            <select value={params.insulation} onChange={e => setParams(p => ({...p, insulation: e.target.value}))}>
              <option value="none">Без утепления</option>
              <option value="basic">Базовое</option>
              <option value="premium">Премиум</option>
            </select>
          </label>
          <button onClick={() => setStep(5)}>Показать итог</button>
        </>
      )}
      {step === 5 && (
        <>
          <h4>Итог:</h4>
          <ul>
            <li>Диаметр: {params.diameter} мм</li>
            <li>Высота: {params.height} м</li>
            <li>Материал: {params.material === "steel" ? "Нержавеющая сталь" : "Керамика"}</li>
            <li>Утепление: {params.insulation}</li>
          </ul>
          <button>Отправить админу</button>
        </>
      )}
    </div>
  );
}
